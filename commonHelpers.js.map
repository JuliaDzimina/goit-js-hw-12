{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function galleryTemplate({webformatURL, largeImageURL, tags, likes, views, comments, downloads}){\n    return `<li class=\"gallery-list\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"img-gallery\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n    <div class=\"info-img\">\n      \n      <div>\n        <h3>Likes</h3>\n        <p>${likes}</p>\n      </div>\n\n      <div>\n        <h3>Views</h3>\n        <p>${views}</p>\n      </div>\n\n      <div>\n        <h3>Comments</h3>\n        <p>${comments}</p>\n      </div>\n\n      <div>\n        <h3>Downloads</h3>\n        <p>${downloads}</p>\n      </div>\n\n    </div>\n  </li>`};","import axios from 'axios';\n\n\nexport async function fetchImages(query){\n    const API_KEY = '42192199-b3b6ebcf3d1600f471f1bd878';\n    const BASE_URL = 'https://pixabay.com/api/';\n  \n    const responce = await axios(BASE_URL, {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: 15,\n            page: 1,\n        }\n    });\n  \n  return responce.data;\n  \n  };","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport {galleryTemplate} from \"./js/render-functions\";\nimport { fetchImages } from \"./js/pixabay-api\";\n\nconst refs = {\n   searchForm: document.querySelector('.search-form'),\n   galleryList: document.querySelector('.gallery'),\n   loader: document.querySelector('.loader'),\n}\n\nlet lightbox;\nrefs.loader.style.display = 'none';\n\n\n\n\n\n// async function fetchImages(query){\n//   const API_KEY = '42192199-b3b6ebcf3d1600f471f1bd878';\n//   const BASE_URL = 'https://pixabay.com/api/';\n\n//   const responce = await axios(BASE_URL, {\n//       params: {\n//           key: API_KEY,\n//           q: query,\n//           image_type: 'photo',\n//           orientation: 'horizontal',\n//           safesearch: true,\n//           per_page,\n//           page,\n//       }\n//   });\n\n// return responce.data;\n\n// };\n\nrefs.searchForm.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n    e.preventDefault();\n    refs.loader.style.display = 'block';\n    refs.galleryList.innerHTML = '';\n\n    const query = e.target.elements.query.value;\n    try{\n      const data = await fetchImages(query);\n    createMarkup(data.hits);\n    } catch (error){\n        iziToast.error({\n              message: `Error fetching images: ${error}`,\n              position: 'topRight',\n              backgroundColor: 'red',\n              messageColor: 'white',})\n    } finally{\n      refs.searchForm.reset();\n    refs.loader.style.display = 'none';\n    };\n  };\n\n\n  function createMarkup(arr){\n      if (arr.length === 0){\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: 'red',\n          messageColor: 'white',});\n      }\n      \n    const markup =arr.map(galleryTemplate).join('');\n    refs.galleryList.insertAdjacentHTML('beforeend', markup);\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionDelay: 250,\n      captionsData: 'alt',\n    });\n    lightbox.refresh();\n  }\n"],"names":["galleryTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchImages","query","axios","refs","lightbox","onFormSubmit","e","data","createMarkup","error","iziToast","arr","markup","SimpleLightbox"],"mappings":"owBAAO,SAASA,EAAgB,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAE,CACnG,MAAO;AAAA,oCACyBL,CAAa,mCAAmCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,aAKjGC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,aAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,aAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,aAKRC,CAAS;AAAA;AAAA;AAAA;AAAA,QAId,CCvBD,eAAeC,EAAYC,EAAM,CAgBtC,OAZmB,MAAMC,EAFN,2BAEsB,CACnC,OAAQ,CACJ,IALQ,qCAMR,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAM,CACT,CACT,CAAK,GAEa,IAElB,CCXA,MAAME,EAAO,CACV,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC3C,EAEA,IAAIC,EACJD,EAAK,OAAO,MAAM,QAAU,OA0B5BA,EAAK,WAAW,iBAAiB,SAAUE,CAAY,EAEvD,eAAeA,EAAaC,EAAG,CAC3BA,EAAE,eAAc,EAChBH,EAAK,OAAO,MAAM,QAAU,QAC5BA,EAAK,YAAY,UAAY,GAE7B,MAAMF,EAAQK,EAAE,OAAO,SAAS,MAAM,MACtC,GAAG,CACD,MAAMC,EAAO,MAAMP,EAAYC,CAAK,EACtCO,EAAaD,EAAK,IAAI,CACrB,OAAQE,EAAM,CACXC,EAAS,MAAM,CACT,QAAS,0BAA0BD,CAAK,GACxC,SAAU,WACV,gBAAiB,MACjB,aAAc,OAAO,CAAE,CACrC,QAAa,CACPN,EAAK,WAAW,QAClBA,EAAK,OAAO,MAAM,QAAU,MAChC,CAEA,CAEE,SAASK,EAAaG,EAAI,CAClBA,EAAI,SAAW,GACjBD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,WACV,gBAAiB,MACjB,aAAc,OAAO,CAAE,EAG7B,MAAME,EAAQD,EAAI,IAAInB,CAAe,EAAE,KAAK,EAAE,EAC9CW,EAAK,YAAY,mBAAmB,YAAaS,CAAM,EACvDR,EAAW,IAAIS,EAAe,aAAc,CAC1C,aAAc,IACd,aAAc,KACpB,CAAK,EACDT,EAAS,QAAO,CACpB"}